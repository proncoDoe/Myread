{"ast":null,"code":"import _objectSpread from \"/home/proncodoe/Desktop/projects/Myread/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nvar api = \"https://reactnd-books-api.udacity.com\"; // Generate a unique token for storing your bookshelf data on the backend server.\n\nvar token = localStorage.token;\nif (!token) token = localStorage.token = Math.random().toString(36).substr(-8);\nvar headers = {\n  'Accept': 'application/json',\n  'Authorization': token\n};\nexport var get = function get(bookId) {\n  return fetch(\"\".concat(api, \"/books/\").concat(bookId), {\n    headers: headers\n  }).then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    return data.book;\n  });\n};\nexport var getAll = function getAll() {\n  return fetch(\"\".concat(api, \"/books\"), {\n    headers: headers\n  }).then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    return data.books;\n  });\n};\nexport var update = function update(book, shelf) {\n  return fetch(\"\".concat(api, \"/books/\").concat(book.id), {\n    method: 'PUT',\n    headers: _objectSpread(_objectSpread({}, headers), {}, {\n      'Content-Type': 'application/json'\n    }),\n    body: JSON.stringify({\n      shelf: shelf\n    })\n  }).then(function (res) {\n    return res.json();\n  });\n};\nexport var search = function search(query) {\n  return fetch(\"\".concat(api, \"/search\"), {\n    method: 'POST',\n    headers: _objectSpread(_objectSpread({}, headers), {}, {\n      'Content-Type': 'application/json'\n    }),\n    body: JSON.stringify({\n      query: query\n    })\n  }).then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    return data.books;\n  });\n};","map":{"version":3,"names":["api","token","localStorage","Math","random","toString","substr","headers","get","bookId","fetch","then","res","json","data","book","getAll","books","update","shelf","id","method","body","JSON","stringify","search","query"],"sources":["/home/proncodoe/Desktop/projects/Myread/src/BooksAPI.js"],"sourcesContent":["\nconst api = \"https://reactnd-books-api.udacity.com\"\n\n// Generate a unique token for storing your bookshelf data on the backend server.\nlet token = localStorage.token\nif (!token)\n  token = localStorage.token = Math.random().toString(36).substr(-8)\n\nconst headers = {\n  'Accept': 'application/json',\n  'Authorization': token\n}\n\nexport const get = (bookId) =>\n  fetch(`${api}/books/${bookId}`, { headers })\n    .then(res => res.json())\n    .then(data => data.book)\n\nexport const getAll = () =>\n  fetch(`${api}/books`, { headers })\n    .then(res => res.json())\n    .then(data => data.books)\n\nexport const update = (book, shelf) =>\n  fetch(`${api}/books/${book.id}`, {\n    method: 'PUT',\n    headers: {\n      ...headers,\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ shelf })\n  }).then(res => res.json())\n\nexport const search = (query) =>\n  fetch(`${api}/search`, {\n    method: 'POST',\n    headers: {\n      ...headers,\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ query })\n  }).then(res => res.json())\n    .then(data => data.books)\n"],"mappings":";AACA,IAAMA,GAAG,GAAG,uCAAZ,C,CAEA;;AACA,IAAIC,KAAK,GAAGC,YAAY,CAACD,KAAzB;AACA,IAAI,CAACA,KAAL,EACEA,KAAK,GAAGC,YAAY,CAACD,KAAb,GAAqBE,IAAI,CAACC,MAAL,GAAcC,QAAd,CAAuB,EAAvB,EAA2BC,MAA3B,CAAkC,CAAC,CAAnC,CAA7B;AAEF,IAAMC,OAAO,GAAG;EACd,UAAU,kBADI;EAEd,iBAAiBN;AAFH,CAAhB;AAKA,OAAO,IAAMO,GAAG,GAAG,SAANA,GAAM,CAACC,MAAD;EAAA,OACjBC,KAAK,WAAIV,GAAJ,oBAAiBS,MAAjB,GAA2B;IAAEF,OAAO,EAAPA;EAAF,CAA3B,CAAL,CACGI,IADH,CACQ,UAAAC,GAAG;IAAA,OAAIA,GAAG,CAACC,IAAJ,EAAJ;EAAA,CADX,EAEGF,IAFH,CAEQ,UAAAG,IAAI;IAAA,OAAIA,IAAI,CAACC,IAAT;EAAA,CAFZ,CADiB;AAAA,CAAZ;AAKP,OAAO,IAAMC,MAAM,GAAG,SAATA,MAAS;EAAA,OACpBN,KAAK,WAAIV,GAAJ,aAAiB;IAAEO,OAAO,EAAPA;EAAF,CAAjB,CAAL,CACGI,IADH,CACQ,UAAAC,GAAG;IAAA,OAAIA,GAAG,CAACC,IAAJ,EAAJ;EAAA,CADX,EAEGF,IAFH,CAEQ,UAAAG,IAAI;IAAA,OAAIA,IAAI,CAACG,KAAT;EAAA,CAFZ,CADoB;AAAA,CAAf;AAKP,OAAO,IAAMC,MAAM,GAAG,SAATA,MAAS,CAACH,IAAD,EAAOI,KAAP;EAAA,OACpBT,KAAK,WAAIV,GAAJ,oBAAiBe,IAAI,CAACK,EAAtB,GAA4B;IAC/BC,MAAM,EAAE,KADuB;IAE/Bd,OAAO,kCACFA,OADE;MAEL,gBAAgB;IAFX,EAFwB;IAM/Be,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;MAAEL,KAAK,EAALA;IAAF,CAAf;EANyB,CAA5B,CAAL,CAOGR,IAPH,CAOQ,UAAAC,GAAG;IAAA,OAAIA,GAAG,CAACC,IAAJ,EAAJ;EAAA,CAPX,CADoB;AAAA,CAAf;AAUP,OAAO,IAAMY,MAAM,GAAG,SAATA,MAAS,CAACC,KAAD;EAAA,OACpBhB,KAAK,WAAIV,GAAJ,cAAkB;IACrBqB,MAAM,EAAE,MADa;IAErBd,OAAO,kCACFA,OADE;MAEL,gBAAgB;IAFX,EAFc;IAMrBe,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;MAAEE,KAAK,EAALA;IAAF,CAAf;EANe,CAAlB,CAAL,CAOGf,IAPH,CAOQ,UAAAC,GAAG;IAAA,OAAIA,GAAG,CAACC,IAAJ,EAAJ;EAAA,CAPX,EAQGF,IARH,CAQQ,UAAAG,IAAI;IAAA,OAAIA,IAAI,CAACG,KAAT;EAAA,CARZ,CADoB;AAAA,CAAf"},"metadata":{},"sourceType":"module"}